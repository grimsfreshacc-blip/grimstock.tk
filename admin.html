<!DOCTYPE html>
<html>
<head><title>Admin</title></head>
<body>

<h2>Admin Panel</h2>
<button onclick="logout()">Logout</button>

<h3>Orders</h3>
<div id="orders"></div>

<script>
if (localStorage.getItem("role") !== "admin") {
  alert("Admins only");
  location.href = "buyer-login.html";
}

const orders = JSON.parse(localStorage.getItem("orders") || "[]");
const el = document.getElementById("orders");

orders.forEach((o,i) => {
  el.innerHTML += `
    <div>
      ${o.id} - ${o.status}
      <button onclick="deliver(${i})">Mark Delivered</button>
    </div>
  `;
});

function deliver(i) {
  orders[i].status = "Delivered";
  localStorage.setItem("orders", JSON.stringify(orders));
  location.reload();
}

function logout() {
  localStorage.clear();
  location.href = "buyer-login.html";
}
</script>
</body>
</html>
